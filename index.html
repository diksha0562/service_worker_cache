<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>Home Page</title>
 </head>
 <body>
  <div id="connectionStatus"></div>
  <p>Click on the button below to make an HTTP request.<p>
  <button id="requestButton">Make an HTTP request - do it!</button>
  <script>
  if ('serviceWorker' in navigator) {
    console.log('service worker supp')
    window.addEventListener('load',()=>{
      navigator.serviceWorker
          .register('./sw-cachedsite.js')
          .then(reg => {
            console.log('registered')
          })
          .catch(err=>{console.log('err')})
    })
  // navigator.serviceWorker
  //   .register('./service-worker.js')
  //   .then(registration => navigator.serviceWorkcer.ready)
  //   .then(registration => { // register sync
  //   console.log('hey')
  //     document.getElementById('requestButton').addEventListener('click', () => {
  //       registration.sync.register('image-fetch').then(() => {
  //           console.log('Sync registered');
  //       });
  //     });
  //   });
} else {
  document.getElementById('requestButton').addEventListener('click', () => {
    console.log('Fallback to fetch the image as usual');
  });
}
  </script>
 </body>
</html>
